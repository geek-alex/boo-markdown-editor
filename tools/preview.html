<link rel="import" href="../boo-markdown-tool.html">
<link rel="import" href="../../iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="../../iron-icon/iron-icon.html">

<iron-iconset-svg size="24" name="boo-markdown-tool-preview">
  <svg>
    <defs>
      <g id="toggle">
        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path>
      </g>
    </defs>
  </svg>
</iron-iconset-svg>

<dom-module id="boo-markdown-tool-preview">
  <template>
    <style>
      iron-icon {
        color: white;
        display: block;
        padding: 5px;
      }
      iron-icon:hover {
        cursor: pointer;
      }
      app-toolbar {
        background-color: var(--primary-color);
        font-size: 1em;
        color: white;
        height: 48px;
      }
      paper-button {
        background-color: var(--primary-color);
        color: white;
      }
      div.content {
        @apply --shadow-elevation-6dp;
        width: 280px;
      }
      div.content>div {
        overflow: hidden;
        padding: 10px;
      }
      paper-dropdown-menu {
        width: 100%;
      }
      .cr {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
      }
    </style>
    <iron-icon 
      slot="dropdown-trigger"
      icon="boo-markdown-tool-preview:toggle" 
      title="打开/关闭预览"
      on-click="togglePreview"></iron-icon>
  </template>
  <script>
    class BooMarkdownToolPreview extends BooMarkdownTool {

      static get is() { return 'boo-markdown-tool-preview'; }

      togglePreview() {
        this.markedEditor.noPreview = !this.markedEditor.noPreview;
        this.markedEditor.showToolbar = false;
      }
    }

    window.customElements.define(BooMarkdownToolPreview.is, BooMarkdownToolPreview);
  </script>
</dom-module>
